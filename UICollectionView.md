# UICollectionView
UICollectionView –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞–∫–∏—Ö-–ª–∏–±–æ –¥–∞–Ω–Ω—ã—Ö, –∫–∞–∫ –∏ UITableView. –û–¥–Ω–∞–∫–æ –æ—Ç–ª–∏—á–∏–∏ –æ—Ç UITableView –≤—ã –º–æ–∂–µ—Ç–µ —Ä–∞—Å–ø–æ–ª–æ–∂–∏—Ç—å —è—á–µ–π–∫–∏ –∫–∞–∫ —É–≥–æ–¥–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è –≥–∏–±–∫–æ–π —Å–∏—Å—Ç–µ–º–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –û–±—ã—á–Ω–æ UICollectionView –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –Ω–µ–∫—É—é —Ç–∞–±–ª–∏—Ü—É, –≥–¥–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–ª–±—Ü–æ–≤ –∏–ª–∏ —Å—Ç—Ä–æ–∫. –ü—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —è–≤–ª—è—é—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Photos –∏–ª–∏ AppStore. 
–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ UICollectionView:
- –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –±–µ–∑–≥—Ä–∞–Ω–∏—á–Ω–∞—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. 
- –•–æ—Ä–æ—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏. 




![adf079a2d48045b24a5f979daeab1333.png](./_resources/0a72f1f07471479db7c0bdf2c738bf0f.png)


## UICollectionView elements
–í –æ—Ç–ª–∏—á–∏–∏ –æ—Ç –∑–Ω–∞–∫–æ–º–æ–≥–æ –Ω–∞–º UITableView, UICollectionView –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç header –∏ footer. –í–º–µ—Å—Ç–æ –Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Supplementary Views. 

- Cells ‚Äî —ç—Ç–æ –Ω–∞—à–∏ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- Supplementary Views ‚Äî —ç—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, –Ω–∞—Å–ª–µ–¥—É–µ–º–æ–µ –æ—Ç UICollectionReusableView, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è, –≥–¥–µ —É–≥–æ–¥–Ω–æ. –í —Ç–æ–º —á–∏—Å–ª–µ –ø–æ–¥ —Å–µ–∫—Ü–∏–µ–π, –Ω–∞–¥ —Å–µ–∫—Ü–∏–µ–π, —Ä–∞–∑–º–µ—Ä–∞–º–∏ –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç UICollectionViewLayout. 
- Decoration Views - –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, –±–ª–∞–≥–æ–¥–∞—Ä—è –∫–æ—Ç–æ—Ä–æ–º—É –º–æ–∂–Ω–æ —Ä–∞–∑–º–µ—â–∞—Ç—å –Ω–∞—à–∏ cells –Ω–∞ –∫–∞–∫–æ–º-—Ç–æ —Ñ–æ–Ω–µ. 


![f3b39d8aacda13456d618a51d6d72fb7.png](./_resources/a5a5682080244e67bd4837554a4bf10c.png)


## Key UICollectionView Concepts
- Data source - –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è UICollectionView –∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è 
	- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–∫—Ü–∏–π (numberOfSectionsInCollectionView:). –í —ç—Ç–æ–º –º–µ—Ç–æ–¥–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–µ—Ä–Ω—É—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–∫—Ü–∏–π
	- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Å–µ–∫—Ü–∏–∏ (collectionView:numberOfItemsInSection:). –í —ç—Ç–æ–º –º–µ—Ç–æ–¥–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–µ—Ä–Ω—É—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–º –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Å–µ–∫—Ü–∏–∏. 
	- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —è—á–µ–π–∫—É –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –µ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (collectionView:cellForItemAtIndexPath:). –í —ç—Ç–æ–º –º–µ—Ç–æ–¥–µ UICollectionView —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É DataSource —Å–∞–º—É —è—á–µ–π–∫—É, –≤ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç. 
- Delegate
- Layout

* * *
## Cell and View Reuse
–ü–æ–¥–æ–±–Ω–æ UITableView, –≤ UICollectionView –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ö–∞–Ω–∏–∑–º –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —è—á–µ–µ–∫ –∏ SupplimentaryView –±–µ–∑ –∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∞–ª–ª–æ–∫–∞—Ü–∏–∏. –ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–π –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω –Ω–∞ —ç–∫—Ä–∞–Ω–µ, –∏ –µ—Å—Ç—å –∫–∞–∫–∏–µ-—Ç–æ —è—á–µ–π–∫–∏ –¥–ª—è —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö. –ö–æ–≥–¥–∞ —ç—Ç–∏ —è—á–µ–π–∫–∏ —É—Ö–æ–¥—è—Ç —Å —ç–∫—Ä–∞–Ω–∞, –æ–Ω–∏ –Ω–µ –¥–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è, –∞ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Ç.–Ω. ‚Äú–æ—á–µ—Ä–µ–¥—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è‚Äù (Reuse queue). –ö–æ–≥–¥–∞ UICollectionView –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–Ω–æ–≤–∞ –ø–æ–ª—É—á–∏—Ç—å –æ–±—ä–µ–∫—Ç —ç—Ç–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, –æ–Ω–∞ –Ω–µ —Å–æ–∑–¥–∞–µ—Ç –µ–≥–æ –∑–∞–Ω–æ–≤–æ, –∞ –±–µ—Ä–µ—Ç —É–∂–µ –ø—Ä–æ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–∑ –æ—á–µ—Ä–µ–¥–∏. –≠—Ç–æ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–∑–≤–æ–ª—è–µ—Ç UICollectionView —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–∏ —ç—Ç–æ–º –æ–ø–µ—Ä–∏—Ä—É—è –Ω–µ–±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —è—á–µ–µ–∫. –ß—Ç–æ–±—ã –≤—Å–µ —Ä–∞–±–æ—Ç–∞–ª–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–¥–µ–ª–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤–∏–π:
–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —è—á–µ–π–∫—É –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º: 
```objc
- (void)registerClass:forCellWithReuseIdentifier:
- (void)registerNib:forCellWithReuseIdentifier:

- (void)registerClass:forSupplementaryViewOfKind:withReuseIdentifier:
- (void)registerNib:forSupplementaryViewOfKind:withReuseIdentifier:
```

–í DataSource –º–µ—Ç–æ–¥–µ cellForItemAtIndexPath: –≤—ã –Ω–µ –¥–æ–ª–∂–Ω—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—É—é —è—á–µ–π–∫—É, –∞ –Ω–µ–±—Ö–æ–¥–∏–º–æ –≤–∑—è—Ç—å –µ–µ –∏–∑ –æ—á–µ—Ä–µ–¥–∏. –î–µ–ª–∞–µ—Ç—Å—è —ç—Ç–æ —Å –ø–æ–º–æ—â—å—é —Å–ª–µ–¥—É—é—â–∏—Ö –º–µ—Ç–æ–¥–æ–≤: 
```objc
- (UICollectionViewCell *)dequeueReusableCellWithReuseIdentifier:forIndexPath:
- (UICollectionReusableView *)dequeueReusableSupplementaryViewOfKind:withReuseIdentifier:forIndexPath:
```
–î–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤–µ—Ä–Ω—É—Ç —è—á–µ–π–∫—É –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –µ—Å–ª–∏ –æ–Ω–∞ —Ç–∞–º –µ—Å—Ç—å, –∞ –µ—Å–ª–∏ –≤ –æ—á–µ—Ä–µ–¥–∏ –µ–µ –Ω–µ—Ç, —Ç–æ —Å–æ–∑–¥–∞—Å—Ç –∑–∞ –≤–∞—Å –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç. 

```objc
[self.collectionView registerClass:MyCustomCollectionViewCell.class
            forCellWithReuseIdentifier:@"MyCustomCollectionViewCell"];
```

–∏ –±–µ—Ä–µ–º –Ω–∞—à—É —è—á–µ–π–∫—É –∏–∑ –æ—á–µ—Ä–µ–¥–∏:
```objc
- (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView
                  cellForItemAtIndexPath:(NSIndexPath *)indexPath {
    MyCustomCollectionViewCell *cell = [collectionView
                                  dequeueReusableCellWithReuseIdentifier:@"MyCollectionViewCellIdentifier"
                                  forIndexPath:indexPath]; // Configure the cell‚Äôs content
    return cell;
}
```

## Supplementary Views Reuse
–ê–Ω–æ–ª–æ–≥–∏—á–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –∏ –¥–ª—è supplementary view. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º —è—á–µ–π–∫—É:
 ```objc
[self.collectionView registerClass:MyHeaderSupplementaryView.class
            forSupplementaryViewOfKind:UICollectionElementKindSectionHeader,
            withReuseIdentifier:@"MyHeaderViewIdentifier"];
```

–∏ –±–µ—Ä–µ–º –Ω–∞—à—É —è—á–µ–π–∫—É –∏–∑ –æ—á–µ—Ä–µ–¥–∏:
```
- (UICollectionReusableView *)collectionView:(UICollectionView *)collectionView
           viewForSupplementaryElementOfKind:(NSString *)kind
                                 atIndexPath:(NSIndexPath *)indexPath {
    MyHeaderSupplementaryView *view = [collectionView 
dequeueReusableSupplementaryViewOfKind:UICollectionElementKindSectionHeader
                                          withReuseIdentifier:@"MyCollectionViewCellIdentifier"
                                                    forIndexPath:indexPath];
    // Configure the view
    return view;
}
```
–û–¥–Ω–∞–∫–æ, –∫–∞–∫ –º–æ–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å, –¥–ª—è –º–µ—Ç–æ–¥–∞ supplementary view –µ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä OfKind. –≠—Ç–æ —Ç–∏–ø, –∏ –∫–∞–∂–¥—ã–π —Ç–∏–ø –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π. –¢—É–¥–∞ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª—é–±—É—é —Å—Ç—Ä–æ–∫—É –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã –≤–∞—à–∏—Ö supplementary view. –í —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º SDK –ø—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –¥–≤–∞ —Ç–∏–ø–∞, —ç—Ç–æ **UICollectionElementKindSectionHeader** –∏ **UICollectionElementKindSectionFooter**.


* * *

## UICollectionViewDelegate
–û—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è UICollectionViewDelegate: 
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π (highlight)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ —è—á–µ–π–∫–∏ (selection)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π –º–µ–Ω—é –Ω–∞ —è—á–µ–π–∫–∞—Ö (actions menu) 


### Interacting with Content
–£ –∫–∞–∂–¥–æ–π —è—á–µ–π–∫–∏ –µ—Å—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ isSelected –∏ isHighlighted 
–ö–æ–≥–¥–∞ –º—ã –Ω–∞–∂–∏–º–∞–µ–º –ø–æ —è—á–µ–π–∫–µ, –ø–µ—Ä–≤—ã–º –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ –¥–µ–ª–µ–≥–∞—Ç–∞: 
- collectionView:shouldHighlightItemAtIndexPath:
–í –∫–æ—Ç–æ—Ä–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–µ—Ä–Ω—É—Ç—å, –Ω—É–∂–Ω–æ –ª–∏ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—Ç—å —è—á–µ–π–∫—É, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ –Ω–µ–≥–æ –Ω–∞–∂–∏–º–∞–µ—Ç. –ï—Å–ª–∏ –º—ã –≤–µ—Ä–Ω—É–ª–∏ YES, —Ç–æ —Å–ª–µ–¥—É—é—â–∏–º —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥: 
- collectionView:didHighlightItemAtIndexPath:
–≥–¥–µ –º—ã –º–æ–∂–µ–º –ø–æ–º–µ–Ω—è—Ç—å —Ü–≤–µ—Ç –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ. –°–ª–µ–¥—É—é—â–∏–º –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥: 
- collectionView:shouldSelectItemAtIndexPath:
–≥–¥–µ –º—ã –¥–æ–ª–∂–Ω—ã –≤–µ—Ä–Ω—É—Ç—å, –º–æ–∂–µ—Ç –ª–∏ —è—á–µ–π–∫–∞ –±—ã—Ç—å –≤—ã–±—Ä–∞–Ω–∞. –ï—Å–ª–∏ –º—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º YES, —Ç–æ —è—á–µ–π–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥—ã: 
- collectionView:didUnhighlightItemAtIndexPath:
- collectionView:didSelectItemAtIndexPath:
–∫–æ–≥–¥–∞ —Å–≤–æ–π—Å—Ç–≤–æ —è—á–µ–π–∫–∏ isSelected –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ YES, —Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ isHighlighted –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ NO –∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ didSelectItemAtIndexPath. 
–ï—Å–ª–∏ –º—ã –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —è—á–µ–π–∫–∏ –Ω–∞–∂–º–µ–º –µ—â–µ —Ä–∞–∑, —Ç–æ –≤—ã–∑–æ–≤–µ—Ç—Å—è –º–µ—Ç–æ–¥: 
- collectionView:shouldDeselectItemAtIndexPath:
–≥–¥–µ –º—ã –¥–æ–ª–∂–Ω—ã –≤–µ—Ä–Ω—É—Ç—å, –º–æ–∂–Ω–æ –ª–∏ –æ—Ç–º–µ–Ω–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ —ç—Ç–æ–π —è—á–µ–π–∫–∏. –¢.–µ. —Å–≤–æ–π—Å—Ç–≤–æ isSelected —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ –∑–Ω–∞—á–µ–Ω–∏–µ NO. –ï—Å–ª–∏ –º—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º YES, —Ç–æ —Å–ª–µ–¥–æ–º –≤—ã–∑–æ–≤–µ—Ç—Å—è –º–µ—Ç–æ–¥: 
- collectionView:didDeselectItemAtIndexPath:


## UICollectionViewCell
–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è —è—á–µ–π–∫–∏ –≤ UICollectionView –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç UICollectionViewReusableCell. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω—é–∞–Ω—Å—ã –ø–æ —Ä–∞–±–æ—Ç–µ —Å UICollectionViewCell:
-	–ù–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö —Å—Ç–∏–ª–µ–π. –ü–æ—ç—Ç–æ–º—É –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–π –ø–æ–¥–∫–ª–∞—Å—Å. 
-	–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –≤—ã–¥–µ–ª–µ–Ω–∏—è –∏ –ø–æ–¥—Å–≤–µ—Ç–∫–∏ (selection and highlight)


* * *


## UICollectionViewLayout
–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–∞–∑–º–µ—Ä–æ–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ UICollectionView. UICollectionViewLayout –≤—ã—á–∏—Å–ª—è–µ—Ç –∞—Ç—Ä–∏–±—É—Ç—ã –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è: –Ø—á–µ–µ–∫(Cells), Supplementary views, Decoration views. –¢–∞–∫ –∫–∞–∫ —ç—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å, –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞ —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞. 
**UICollectionViewLayoutAttributes**
–ê—Ç—Ä–∏–±—É—Ç—ã –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∫–ª—é—á–∞—é—Ç –≤ —Å–µ–±—è: 

- Position - —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ
- Size - —Ä–∞–∑–º–µ—Ä—ã
- Opacity - –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
- zIndex - –ø–æ–∑–∏—Ü–∏—è –ø–æ –æ—Å–∏ Z. 
- Even transform 
- ...


## UICollectionViewFlowLayout
–ß—Ç–æ–±—ã –æ–±–ª–µ–≥—á–∏—Ç—å –∂–∏–∑–Ω—å UIKit –∏–º–µ–µ—Ç ‚Äú—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é‚Äù —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é UICollectionViewLayout - UICollectionViewFlowLayout. –≠—Ç–æ —É–∂–µ —Ä–∞–±–æ—á–∏–π —Å–∞–±–∫–ª–∞—Å—Å UICollectionViewLayout –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –±—ã—Å—Ç—Ä–æ –Ω–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å UICollectionView. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞: 
-	–õ–∏–Ω–µ–π–Ω–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
-	–ú–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –∫–∞–∫ —Ç–∞–±–ª–∏—Ü–∞, —Ç–∞–∫ –∏ –≥—Ä—É–ø–ø–∞ –ª–∏–Ω–∏–π



![64dbb68534aa2e04afdd2a31e2da2da0.png](./_resources/880f148a175e452ebfbd24b08bc92e08.png)

#### Customization

- Item size - —Ä–∞–∑–º–µ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞
- Line spacing - –æ—Ç—Å—Ç—É–ø—ã –ø–æ –ª–∏–Ω–∏–∏  
- Inter cell spacing - –æ—Ç—Å—Ç—É–ø—ã –º–µ–∂–¥—É —è—á–µ–π–∫–∞–º–∏
- Scrolling direction - –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞
- Header and footer size
- Section Inset - –æ—Ç—Å—Ç—É–ø—ã –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –∏ —Å–µ–∫—Ü–∏—è–º–∏ (header –∏ footer)


–í—Å–µ —ç—Ç–∏ —Å–≤–æ–π—Å—Ç–≤–∞ –º–æ–≥—É—Ç –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∫–∞–∫ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–∞, —Ç–∞–∫ –∏ –∏—Å–ø–æ–ª—å–∑—É—è UICollectionViewDelegateFlowLayout. –≠—Ç–æ –¥–µ–ª–µ–≥–∞—Ç UICollectionViewFlowLayout, –≥–¥–µ –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ—Ç–æ–¥—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è. 
- Item size
–ú–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ, –¥–ª—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤: 
```objc
@property (nonatomic) CGSize itemSize;
layout.itemSize = CGSizeMake(30, 20);
```
–ï—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–º–µ–ª –æ—Ç–ª–∏—á–Ω—ã–π —Ä–∞–∑–º–µ—Ä, –Ω–∞–º –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ –¥–µ–ª–µ–≥–∞—Ç–∞: 
`collectionView:layout:sizeForItemAtIndexPath:`
–í –∫–æ—Ç–æ—Ä–æ–º –º—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —è—á–µ–π–∫–∏

- Minimum inter-item spacing
–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –º—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —è—á–µ–π–∫–∞–º–∏, –∞ —Å–∞–º FlowLayout –∏—Å—Ö–æ–¥—è –∏–∑ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å–∞–º —Å—á–∏—Ç–∞–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ. –¢–∞–∫ –∫–∞–∫ —É –Ω–∞—Å —ç–ª–µ–º–µ–Ω—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã, –∏ –∏–º–µ—Ç—å —Ä–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã, –≤–∏–∑—É–∞–ª—å–Ω–æ –Ω–µ–∫—Ä–∞—Å–∏–≤–æ –±—É–¥–µ—Ç –∏–º–µ—Ç—å —Å—Ç–∞—Ç–∏—á–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ. 
![b9be3c0530b56b7323212124a0a348c3.png](./_resources/f2e025b2eb164aec8da1feb0bc474345.png)


- Minimum line spacing
–¢–æ—Ç-–∂–µ –ø—Ä–∏–Ω—Ü–∏–ø –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∏ –∫ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é –º–µ–∂–¥—É –ª–∏–Ω–∏—è–º–∏. –ú—ã –∑–∞–¥–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –∞ FlowLayout –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å–∞–º —Ä–µ–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä. 
![1a2f3180f8e14a9ffedea93d26bb9df6.png](./_resources/63db68fe1c5143ba81f6f4b3de1fd89a.png)
–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —è—á–µ–π–∫–∞–º–∏ –∏ –ª–∏–Ω–∏—è–º–∏ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–æ: 
```objc
@property (nonatomic) CGFloat minimumLineSpacing;
@property (nonatomic) CGFloat minimumInteritemSpacing;
```
–∏–ª–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –æ—Ç–¥–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—è –º–µ—Ç–æ–¥—ã –¥–µ–ª–µ–≥–∞—Ç–∞ 
```objc
- (CGFloat)collectionView:layout:minimumLineSpacingForSectionAtIndex:
- (CGFloat)collectionView:layout:minimumInteritemSpacingForSectionAtIndex:
```
- Scroll direction
FlowLayout –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–µ–Ω—è—Ç—å –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞. 
`@property (nonatomic) UICollectionViewScrollDirection scrollDirection;`
–ú–æ–∂–µ—Ç –∏–º–µ—Ç—å –¥–≤–∞ –∑–Ω–∞—á–µ–Ω–∏–µ: –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π - **UICollectionViewScrollDirectionVertical**, –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π - **UICollectionViewScrollDirectionHorizontal**
- Headers and Footers
FlowLayout –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã header –∏ footer. –ó–Ω–∞—á–µ–Ω–∏–µ –≤—ã—Å–æ—Ç—ã –≤–∞–∂–Ω–æ –µ—Å–ª–∏ —É –Ω–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª, –∞ —à–∏—Ä–∏–Ω—ã –≤ —Å–ª—É—á–∞–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–∞. 
–ú–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ: 
```objc
@property (nonatomic) CGSize headerReferenceSize;
@property (nonatomic) CGSize footerReferenceSize;
```
	–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—è –º–µ—Ç–æ–¥—ã –¥–µ–ª–µ–≥–∞—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏:
```objc
- (CGSize)collectionView:layout:referenceSizeForHeaderInSection:
- (CGSize)collectionView:layout:referenceSizeForFooterInSection:
```

- Sections insets
FlowLayout –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–µ–Ω—è—Ç—å –æ—Ç—Å—Ç—É–ø—ã –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –∏ —Å–µ–∫—Ü–∏—è–º–∏




![648fb1387f4462c82f5a0902483ed416.png](./_resources/8d22d1d92b45416b936f3feafe1d6977.png)

–ú–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ:
```objc
@property (nonatomic) UIEdgeInsets sectionInset;
```
–¢–∞–∫ –∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ–∫—Ü–∏–∏ –æ—Ç–¥–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—è –º–µ—Ç–æ–¥ –¥–µ–ª–µ–≥–∞—Ç–∞:
```objc
- (UIEdgeInsets)collectionView:layout:insetForSectionAtIndex:
```
* * *
## Custom Layout
Basics to override
–ß—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π UICollectionViewLayout, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –º–µ—Ç–æ–¥—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞, —Ç–∞–∫–∏–µ –∫–∞–∫:
- **prepareLayout**
–ú–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ UICollectionView –±—É–¥–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –≤–∞—à–µ–º—É UICollectionViewLayout –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤–∑—è—Ç—å —É –Ω–µ–≥–æ –∞—Ç—Ä–∏–±—É—Ç—ã. 
- **collectionViewContentSize**
–ú–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞

- **layoutAttributesForElementsInRect**:
- **layoutAttributesForItemAtIndexPath**:
- **layoutAttributesForSupplementaryViewOfKind:atIndexPath:**
- **layoutAttributesForDecorationViewOfKind:atIndexPath:**

* * *
## Useful links ü§ì
[Collection View Programming Guide for iOS](https://developer.apple.com/library/archive/documentation/WindowsViews/Conceptual/CollectionViewPGforIOS/Introduction/Introduction.html#//apple_ref/doc/uid/TP40012334-CH1-SW1)

[Creating custom layout](https://developer.apple.com/library/archive/documentation/WindowsViews/Conceptual/CollectionViewPGforIOS/CreatingCustomLayouts/CreatingCustomLayouts.html#//apple_ref/doc/uid/TP40012334-CH5-SW1)

